```markdown
# éŸ³é¢‘ç®¡ç†å·¥å…·æ–‡æ¡£

## ğŸµ **å·¥å…·ç‰¹ç‚¹**

1. **æ¨¡å—åŒ–è®¾è®¡**  
   - éŸ³é¢‘ç®¡ç†å·¥å…·åˆ†ä¸ºå¤šä¸ªæ¨¡å—ï¼Œæ”¯æŒèƒŒæ™¯éŸ³ä¹ï¼ˆBGMï¼‰ã€ç¯å¢ƒéŸ³æ•ˆï¼ˆAmbienceï¼‰ã€å¯¹è¯éŸ³é¢‘ï¼ˆDialogï¼‰ã€3DéŸ³æ•ˆï¼ˆEffect3Dï¼‰ã€UIéŸ³æ•ˆï¼ˆUIEffectï¼‰ç­‰å¤šç§éŸ³é¢‘ç±»å‹ã€‚
   - æ¯ç§éŸ³é¢‘ç±»å‹æœ‰ç‹¬ç«‹çš„ç®¡ç†é€»è¾‘ï¼Œäº’ä¸å¹²æ‰°ã€‚

2. **å¯¹è±¡æ± ä¼˜åŒ–**  
   - ä½¿ç”¨å¯¹è±¡æ± ç®¡ç†éŸ³é¢‘æºï¼ˆ`AudioSource`ï¼‰ï¼Œå‡å°‘é¢‘ç¹åˆ›å»ºå’Œé”€æ¯éŸ³é¢‘å¯¹è±¡å¸¦æ¥çš„æ€§èƒ½å¼€é”€ã€‚

3. **çµæ´»çš„éŸ³é¢‘æ§åˆ¶**  
   - æ”¯æŒéŸ³é‡è°ƒèŠ‚ã€é™éŸ³ã€æ·¡å…¥æ·¡å‡ºã€æš‚åœã€åˆ‡æ¢éŸ³é¢‘ç»„ç­‰åŠŸèƒ½ã€‚
   - æ”¯æŒ3DéŸ³æ•ˆçš„ç©ºé—´åŒ–å¤„ç†ï¼ˆ`spatialBlend`ï¼‰ã€‚

4. **å¼‚æ­¥åŠ è½½æ”¯æŒ**  
   - éŸ³é¢‘èµ„æºé€šè¿‡å¼‚æ­¥åŠ è½½æ–¹å¼è·å–ï¼Œé¿å…é˜»å¡ä¸»çº¿ç¨‹ã€‚
   - ä½¿ç”¨éŸ³é¢‘æ–‡ä»¶è·¯å¾„è¿›è¡Œè‡ªåŠ¨åŠ è½½ï¼Œæ”¯æŒåŠ¨æ€åŠ è½½å’Œå¸è½½éŸ³é¢‘èµ„æºã€‚

5. **äº‹ä»¶è§¦å‘æ’­æ”¾**  
   - æä¾›è§¦å‘å™¨ç»„ä»¶ï¼ˆ`AudioTrigger`ï¼‰å’Œè®¾ç½®å™¨ç»„ä»¶ï¼ˆ`AudioSetter`ï¼‰ï¼Œå¯é€šè¿‡ç‰©ç†ç¢°æ’æˆ–UIäº‹ä»¶è§¦å‘éŸ³é¢‘æ’­æ”¾ã€‚

6. **å¯æ‰©å±•æ€§**  
   - ä½¿ç”¨æ¥å£ï¼ˆå¦‚`IBgmPlayer`ã€`IDialogPlayer`ï¼‰è®¾è®¡ï¼Œä¾¿äºæ‰©å±•å’Œè‡ªå®šä¹‰éŸ³é¢‘æ’­æ”¾é€»è¾‘ã€‚

7. **ä»¥ç»„ä¸ºå•ä½çš„éŸ³é¢‘ç®¡ç†**  
   - æ”¯æŒå°†éŸ³é¢‘åˆ†ç»„ç®¡ç†ï¼Œä¾¿äºç»Ÿä¸€æ§åˆ¶å’Œåˆ‡æ¢ä¸åŒéŸ³é¢‘ç»„ã€‚
   - ä¾‹å¦‚ï¼šèƒŒæ™¯éŸ³ä¹ç»„ã€ç¯å¢ƒéŸ³æ•ˆç»„ç­‰ã€‚
   - å¯ä»¥åœ¨ä¿ç•™å½“å‰éŸ³é¢‘çŠ¶æ€çš„æƒ…å†µä¸‹ï¼Œåˆ‡æ¢åˆ°æ–°çš„éŸ³é¢‘ç»„ã€‚
   - æ”¯æŒåœ¨åˆ‡æ¢éŸ³é¢‘ç»„æ—¶ï¼Œæ·¡å…¥æ·¡å‡ºå½“å‰éŸ³é¢‘ï¼Œé¿å…çªå…€çš„éŸ³é¢‘åˆ‡æ¢ã€‚

---

## ğŸ› ï¸ **ä½¿ç”¨æ–¹æ³•**

### 1. **åˆå§‹åŒ–éŸ³é¢‘ç®¡ç†å™¨**
éŸ³é¢‘ç®¡ç†å™¨ä¼šåœ¨æ¸¸æˆå¯åŠ¨æ—¶è‡ªåŠ¨åˆå§‹åŒ–ï¼Œæ— éœ€æ‰‹åŠ¨è°ƒç”¨ã€‚  
ç¡®ä¿`AudioManager`æŒ‚è½½åœ¨ä¸€ä¸ª`GameObject`ä¸Šï¼Œå¹¶è®¾ç½®ä¸º`DontDestroyOnLoad`ã€‚

```csharp
protected override void Awake()
{
    base.Awake();
    DontDestroyOnLoad(gameObject);
    InitEffectPlayer();
}
```

---

### 2. **æ’­æ”¾éŸ³é¢‘**

æ’­æ”¾èƒŒæ™¯éŸ³ä¹ã€ç¯å¢ƒéŸ³æ•ˆä¼šæœ‰ç»„åˆ«çš„æ¦‚å¿µï¼ŒèƒŒæ™¯éŸ³ä¹ä¼šæ ¹æ®ç»„åˆ«è¿›è¡Œåˆ‡æ¢ã€‚
- **é»˜è®¤ç»„åˆ«**ï¼š`MusicGroup.Default`

#### a. **æ’­æ”¾èƒŒæ™¯éŸ³ä¹ï¼ˆBGMï¼‰**

```csharp
AudioManager.instance.PlayMusic("MusicClipPath", MusicGroup.Default, fadeoutTime: 0.5f, intervalTime: 0.3f, fadeinTime: 0.5f);
```

#### b. **æ’­æ”¾ç¯å¢ƒéŸ³æ•ˆï¼ˆAmbienceï¼‰**
```csharp
AudioManager.instance.PlayAmbience("AmbienceClipPath", MusicGroup.Default, fadeoutTime: 1f, intervalTime: 1f, fadeinTime: 1f);
```

#### c. **æ’­æ”¾å¯¹è¯éŸ³é¢‘ï¼ˆDialogï¼‰**
```csharp
AudioManager.instance.PlayDialog("DialogClipPath", () => Debug.Log("Dialog Finished"));
```

#### d. **æ’­æ”¾3DéŸ³æ•ˆï¼ˆEffect3Dï¼‰**
- **ç»‘å®šåˆ°å¯¹è±¡**ï¼š
```csharp
AudioManager.instance.RequestPlayEffect("EffectClipPath", false, attachedGameObject, Vector3.zero, true);
```
- **æ’­æ”¾åœ¨æŒ‡å®šä½ç½®**ï¼š
```csharp
AudioManager.instance.RequestPlayEffect("EffectClipPath", false, null, new Vector3(0, 0, 0), true);
```

#### e. **æ’­æ”¾UIéŸ³æ•ˆï¼ˆUIEffectï¼‰**
```csharp
AudioManager.instance.RequestPlayEffect("UIEffectClipPath", true, null, Vector3.zero, false);
```

#### f. **åˆ‡æ¢éŸ³é¢‘ç»„**
- **åˆ‡æ¢èƒŒæ™¯éŸ³ä¹ç»„**ï¼š
```csharp
bool success = AudioManager.instance.SwitchMusicGroup(MusicGroup.Battle);
if (success)
{
    Debug.Log("Switched to Battle Music Group");
}
```

- **åˆ‡æ¢ç¯å¢ƒéŸ³æ•ˆç»„**ï¼š
```csharp
AudioManager.instance.SwitchAmbienceGroup(MusicGroup.Nature);
Debug.Log("Switched to Nature Ambience Group");
```

---

### 3. **éŸ³é‡æ§åˆ¶**

#### a. **è·å–éŸ³é‡**
```csharp
float volume = AudioManager.instance.GetVolume(AudioSourceType.Music);
```

#### b. **è®¾ç½®éŸ³é‡**
```csharp
AudioManager.instance.SetVolume(AudioSourceType.Music, 0.8f, transferTime: 0.3f);
```

#### c. **è·å–æœ€å¤§éŸ³é‡**
```csharp
float maxVolume = AudioManager.instance.GetMaxVolume(AudioSourceType.Effect3D);
```

#### d. **è®¾ç½®æœ€å¤§éŸ³é‡**
```csharp
AudioManager.instance.SetMaxVolume(AudioSourceType.Effect3D, 1.0f);
```

---

### 4. **é™éŸ³ä¸å–æ¶ˆé™éŸ³**

#### a. **é™éŸ³**
```csharp
AudioManager.instance.Mute(AudioSourceType.Music, transferDuration: 0.5f);
```

#### b. **å–æ¶ˆé™éŸ³**
```csharp
AudioManager.instance.Unmute(AudioSourceType.Music, transferDuration: 0.5f);
```

---

### 5. **è§¦å‘å™¨ä¸è®¾ç½®å™¨**

#### a. **ä½¿ç”¨`AudioTrigger`**
- åœ¨éœ€è¦è§¦å‘éŸ³æ•ˆçš„å¯¹è±¡ä¸Šæ·»åŠ `AudioTrigger`ç»„ä»¶ã€‚
- ç¢°æ’è§¦å‘æ—¶è‡ªåŠ¨æ’­æ”¾éŸ³æ•ˆã€‚

#### b. **ä½¿ç”¨`AudioSetter`**
- åœ¨éœ€è¦æ’­æ”¾éŸ³æ•ˆçš„UIæˆ–å¯¹è±¡ä¸Šæ·»åŠ `AudioSetter`ç»„ä»¶ã€‚
- è®¾ç½®éŸ³é¢‘è·¯å¾„å’Œè§¦å‘æ¡ä»¶ï¼ˆå¦‚`playOnEnable`ã€`playOnUp`ç­‰ï¼‰ã€‚
- é…ç½®åœ¨`AudioSetter`ä¸Šçš„AudioClipå¹¶ä¸æ˜¯å°†èµ„äº§ç›´æ¥èµ‹å€¼ç»™`AudioSetter`ï¼Œè€Œæ˜¯é€šè¿‡è®°å½•è·¯å¾„æ¥å®ç°çš„ã€‚
- è¿™æ ·åšçš„å¥½å¤„æ˜¯å¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€åŠ è½½éŸ³é¢‘èµ„æºï¼Œé¿å…äº†åœ¨ç¼–è¾‘å™¨ä¸­ç›´æ¥å¼•ç”¨éŸ³é¢‘æ–‡ä»¶çš„é™åˆ¶ã€‚

#### c. **Buttonç»„ä»¶ä¸éŸ³æ•ˆ**
- `ButtonAddAudioEditor`å¯ä»¥å¿«é€Ÿä¸º`Button`ç»„ä»¶æ·»åŠ éŸ³æ•ˆè§¦å‘å™¨ã€‚
- åœ¨`Button`çš„Inspectoré¢æ¿ä¸­ï¼Œç‚¹å‡»`Add Up AudioTrigger`æŒ‰é’®ï¼Œå¯ä»¥ä¸ºæŒ‰é’®çš„`PointerUp`äº‹ä»¶æ·»åŠ éŸ³æ•ˆè§¦å‘ã€‚
- ç‚¹å‡»`Add Down AudioTrigger`æŒ‰é’®ï¼Œå¯ä»¥ä¸ºæŒ‰é’®çš„`PointerDown`äº‹ä»¶æ·»åŠ éŸ³æ•ˆè§¦å‘ã€‚
- æ·»åŠ åï¼ŒéŸ³æ•ˆè§¦å‘å™¨ä¼šè‡ªåŠ¨æŒ‚è½½`AudioSetter`ç»„ä»¶ï¼Œå¹¶è®¾ç½®å¯¹åº”çš„è§¦å‘æ¡ä»¶ï¼ˆå¦‚`playOnUp`æˆ–`playOnDown`ï¼‰ã€‚

---

## âš ï¸ **æ³¨æ„äº‹é¡¹**

1. **éŸ³é¢‘èµ„æºè·¯å¾„**  
   - ç¡®ä¿éŸ³é¢‘èµ„æºè·¯å¾„æ­£ç¡®ï¼Œå¹¶å·²åŠ è½½åˆ°é¡¹ç›®ä¸­ã€‚

2. **å¯¹è±¡æ± ç®¡ç†**  
   - éŸ³é¢‘ç®¡ç†å™¨ä½¿ç”¨å¯¹è±¡æ± ç®¡ç†`AudioSource`ï¼Œè¯·ç¡®ä¿å¯¹è±¡æ± å®¹é‡è¶³å¤Ÿï¼Œé¿å…éŸ³é¢‘æ’­æ”¾å¤±è´¥ã€‚

3. **éŸ³é¢‘ç±»å‹åŒºåˆ†**  
   - ä¸åŒç±»å‹çš„éŸ³é¢‘ï¼ˆå¦‚BGMã€Effect3Dï¼‰æœ‰ç‹¬ç«‹çš„éŸ³é‡å’Œé™éŸ³è®¾ç½®ï¼Œéœ€åˆ†åˆ«ç®¡ç†ã€‚

4. **æ·¡å…¥æ·¡å‡ºæ—¶é—´**  
   - è®¾ç½®æ·¡å…¥æ·¡å‡ºæ—¶é—´æ—¶ï¼Œç¡®ä¿æ—¶é—´å€¼åˆç†ï¼Œé¿å…éŸ³é¢‘åˆ‡æ¢è¿‡äºçªå…€ã€‚

5. **æ€§èƒ½ä¼˜åŒ–**  
   - é¿å…é¢‘ç¹åˆ›å»ºå’Œé”€æ¯éŸ³é¢‘å¯¹è±¡ï¼Œå°½é‡ä½¿ç”¨å¯¹è±¡æ± ç®¡ç†éŸ³é¢‘æ’­æ”¾ã€‚

6. **æ‰©å±•æ€§**  
   - å¦‚æœéœ€è¦è‡ªå®šä¹‰éŸ³é¢‘æ’­æ”¾é€»è¾‘ï¼Œå¯å®ç°ç›¸å…³æ¥å£ï¼ˆå¦‚`IBgmPlayer`ã€`IDialogPlayer`ï¼‰å¹¶æ›¿æ¢é»˜è®¤å®ç°ã€‚

---

## ğŸ“‚ **æ–‡ä»¶ç»“æ„**

```plaintext
Systems/
â””â”€â”€ AudioSystem/
    â”œâ”€â”€ AudioManager.cs                # éŸ³é¢‘ç®¡ç†å™¨ä¸»é€»è¾‘
    â”œâ”€â”€ AudioManager_Bgm.cs            # èƒŒæ™¯éŸ³ä¹ç®¡ç†æ¨¡å—
    â”œâ”€â”€ AudioManager_Ambience.cs       # ç¯å¢ƒéŸ³æ•ˆç®¡ç†æ¨¡å—
    â”œâ”€â”€ AudioManager_Dialog.cs         # å¯¹è¯éŸ³é¢‘ç®¡ç†æ¨¡å—
    â”œâ”€â”€ AudioManager_SoundEffect.cs    # 3DéŸ³æ•ˆä¸UIéŸ³æ•ˆç®¡ç†æ¨¡å—
    â”œâ”€â”€ PoolableAudioSource.cs         # å¯å›æ”¶çš„éŸ³é¢‘æº
    â”œâ”€â”€ AudioTrigger.cs                # éŸ³é¢‘è§¦å‘å™¨ç»„ä»¶
    â””â”€â”€ AudioSetter.cs                 # éŸ³é¢‘è®¾ç½®å™¨ç»„ä»¶
```
